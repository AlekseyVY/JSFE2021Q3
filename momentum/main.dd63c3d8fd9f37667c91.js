(()=>{"use strict";var e,t,s={},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={id:e,exports:{}};return s[e](o,o.exports,n),o.exports}n.m=s,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>e+".chunk.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="alekseyvy-jsfe2021q3:",n.l=(s,i,o,a)=>{if(e[s])e[s].push(i);else{var r,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),h=0;h<d.length;h++){var c=d[h];if(c.getAttribute("src")==s||c.getAttribute("data-webpack")==t+o){r=c;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+o),r.src=s),e[s]=[i];var g=(t,i)=>{r.onerror=r.onload=null,clearTimeout(u);var n=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(i))),t)return t(i)},u=setTimeout(g.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=g.bind(null,r.onerror),r.onload=g.bind(null,r.onload),l&&document.head.appendChild(r)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{n.b=document.baseURI||self.location.href;var e={179:0};n.f.j=(t,s)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var o=new Promise(((s,n)=>i=e[t]=[s,n]));s.push(i[2]=o);var a=n.p+n.u(t),r=new Error;n.l(a,(s=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",r.name="ChunkLoadError",r.type=o,r.request=a,i[1](r)}}),"chunk-"+t,t)}};var t=(t,s)=>{var i,o,[a,r,l]=s,d=0;if(a.some((t=>0!==e[t]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)l(n)}for(t&&t(s);d<a.length;d++)o=a[d],n.o(e,o)&&e[o]&&e[o][0](),e[a[d]]=0},s=self.webpackChunkalekseyvy_jsfe2021q3=self.webpackChunkalekseyvy_jsfe2021q3||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();class o{constructor(e){this.lang=e.lang,this.timeNode=document.querySelector(e.timeNode),this.dateNode=document.querySelector(e.dateNode),this.greetNode=document.querySelector(e.greetNode),this.worker=new Worker(new URL(n.p+n.u(108),n.b)),this.worker.postMessage(this.lang),this.worker.onmessage=e=>{this.emitTime(e.data.time).then(null),this.emitDate(e.data.date).then(null),this.emitGreeting(e.data.greet).then(null)}}async emitTime(e){this.timeNode.textContent=e}async emitDate(e){this.dateNode.textContent=e}async emitGreeting(e){this.greetNode.textContent=e}terminate(){this.worker.terminate()}}class a{constructor(e){this.lang=e.lang,this.quoteNode=document.querySelector(e.quoteNode),this.authorNode=document.querySelector(e.authorNode),this.updateNode=document.querySelector(e.updateNode),this.worker=new Worker(new URL(n.p+n.u(100),n.b)),this.worker.postMessage(this.lang),this.worker.onmessage=e=>{this.emitQuote(e.data)},this.updateNode.addEventListener("click",this.update)}emitQuote=e=>{this.quoteNode.innerText=e.quote,this.authorNode.innerText=e.author};terminate=()=>{this.worker.terminate()};update=()=>{this.worker.postMessage(this.lang)}}const r=(e,t,s)=>{switch(s){case"set":localStorage.setItem(e,t);break;case"get":return localStorage.getItem(e);case"delete":localStorage.removeItem(e);break;case"clear":localStorage.clear()}};class l{constructor(e){this.nameNode=document.querySelector(e.nameNode),this.nameNode.placeholder="eng"===e.lang?"[Enter Your name]":"[Введите ваше имя]",this.nameNode.value=e.name?e.name:"",this.lang=e.lang,this.name=this.nameNode.value,this.nameNode.addEventListener("input",(e=>{this.name=e.target.value}))}getName(){return this.name}}class d{constructor(e){this.githubNode=e.githubNode,this.unsplashNode=e.unsplashNode,this.flickrNode=e.flickrNode,this.tagsNode=e.tagsNode,this.background=document.querySelector("body"),this.leftNode=e.leftNode,this.rightNode=e.rightNode,this.loading=!1,this.api={source:"github",tag:"nature",num:1},this.worker=new Worker(new URL(n.p+n.u(631),n.b)),this.worker.postMessage(this.api),this.worker.onmessage=e=>{const t=URL.createObjectURL(e.data);this.background.style.background=`url("${t}")`,this.loading=!1,setTimeout((()=>{URL.revokeObjectURL(t)}),1e3)},this.listen("click",this.githubNode,(e=>{this.api.source="github",this.worker.postMessage(this.api)})),this.listen("click",this.unsplashNode,(e=>{this.api.source="unsplash",this.worker.postMessage(this.api)})),this.listen("click",this.flickrNode,(e=>{this.api.source="flickr",this.worker.postMessage(this.api)})),this.listen("click",this.leftNode,(e=>{this.loading||(this.api.num=this.api.num-1<=0?20:this.api.num-1,this.worker.postMessage(this.api),this.loading=!0)})),this.listen("click",this.rightNode,(e=>{this.loading||(this.api.num=this.api.num+1>20?1:this.api.num+1,this.worker.postMessage(this.api),this.loading=!0)})),this.listen("input",this.tagsNode,(e=>{}))}listen=(e,t,s)=>{t.addEventListener(e,(e=>{s(e)}))}}n.e(232).then(n.bind(n,232)),n.e(927).then(n.bind(n,927)),new class{constructor(e){this.settings=e.defaultSettings,this.settingsNode=document.querySelector(e.settingsNode),this.containerNode=document.querySelector(e.containerNode),this.settingsArray=Array.from(document.querySelector(e.settingsArray).children),this.langMainNode=document.querySelector(e.lang.mainSelector),this.langSubNode=document.querySelector(e.lang.subContainer),this.firstLang=document.querySelector(e.lang.firstLang.langSelector),this.firstLangType=e.lang.firstLang.type,this.secLang=document.querySelector(e.lang.secLang.langSelector),this.secLangType=e.lang.secLang.type,this.slidesNode=document.querySelector(e.slides.slidesNode),this.slidesAPINode=document.querySelector(e.slides.slideApiContainer),this.githubNode=document.querySelector(e.slides.github),this.unsplashNode=document.querySelector(e.slides.unisplash),this.flickrNode=document.querySelector(e.slides.flickr),this.tagsNode=document.querySelector(e.slides.tag),this.leftNode=document.querySelector(e.slides.controlLeft),this.rightNode=document.querySelector(e.slides.controlRight),this.slidesMode=!1,this.mode=!1,this.langMode=!1,this.firstLangSelected=!1,this.secLangSelected=!1,this.listen("click",this.settingsNode,this.container),this.langFactory(),this.slidesFactory(),window.onload=async()=>{const e=this.getSettings();e&&(this.settings=JSON.parse(e)),this.settingsLang(),this.clock=new o({lang:this.settings.lang,timeNode:".main-clock",dateNode:".main-date",greetNode:".main-greeting"}),this.quote=new a({lang:this.settings.lang,quoteNode:".citation",authorNode:".author",updateNode:".citation-update"}),this.greet=new l({nameNode:".main-name",lang:this.settings.lang,name:this.settings.name}),this.slides=new d({githubNode:this.githubNode,unsplashNode:this.unsplashNode,flickrNode:this.flickrNode,tagsNode:this.tagsNode,leftNode:this.leftNode,rightNode:this.rightNode})},window.onbeforeunload=()=>{this.settings.name=this.greet.getName(),this.storeSettings(JSON.stringify(this.settings))}}settingsLang=()=>{"eng"===this.settings.lang?(this.langMainNode.innerText="language",this.firstLang.innerText="english",this.secLang.innerText="russian"):(this.langMainNode.innerText="язык",this.firstLang.innerText="английский",this.secLang.innerText="русский")};clearActive=()=>{this.settingsArray.forEach((e=>{e.classList.contains("idle")||e.classList.add("idle")}))};storeSettings(e){r("settings",e,"set")}getSettings(){return r("settings",null,"get")}listen=(e,t,s)=>{t.addEventListener(e,(e=>{s(e)}))};container=()=>{this.mode=!this.mode,this.mode?this.containerNode.classList.remove("idle"):this.containerNode.classList.add("idle")};langFactory=()=>{this.listen("click",this.langMainNode,(()=>{this.clearActive(),this.langMode=!this.langMode,this.langMode?this.langSubNode.classList.remove("idle"):this.langSubNode.classList.add("idle")})),this.langSwitch("click",this.firstLang,this.firstLangType,this.firstLangSelected),this.langSwitch("click",this.secLang,this.secLangType,this.secLangSelected)};langSwitch=(e,t,s,i)=>{this.listen(e,t,(()=>{i=!i,this.settings.lang=s,this.settingsLang(),this.clock.terminate(),this.clock=new o({lang:this.settings.lang,timeNode:".main-clock",dateNode:".main-date",greetNode:".main-greeting"}),this.quote.terminate(),this.quote=new a({lang:this.settings.lang,quoteNode:".citation",authorNode:".author",updateNode:".citation-update"}),this.greet=new l({nameNode:".main-name",lang:this.settings.lang,name:this.settings.name})}))};slidesFactory=()=>{this.listen("click",this.slidesNode,(()=>{this.clearActive(),this.slidesMode=!this.slidesMode,this.slidesMode?this.slidesAPINode.classList.remove("idle"):this.slidesAPINode.classList.add("idle")}))}}({defaultSettings:{lang:"eng",name:null},settingsArray:".sub-settings",settingsNode:".settings-icon",containerNode:".settings-container",lang:{mainSelector:".language-selector",subContainer:".english-sub",firstLang:{type:"eng",langSelector:".set-eng"},secLang:{type:"rus",langSelector:".set-rus"}},slides:{controlLeft:".left-slide--control",controlRight:".right-slide--control",slidesNode:".slides-selection",slideApiContainer:".slides-api",github:".set-github",unisplash:".set-unisplash",flickr:".set-flickr",tag:".tag-input"}})})();